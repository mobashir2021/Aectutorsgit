<div data-bind="foreach:Contacts">
    <fieldset>
        <legend>
            <span data-bind="if:$data.IsPrimaryContact">Main Contact Details</span>
            <span data-bind="ifnot:$data.IsPrimaryContact">Additional Contact Details</span>
        </legend>
        <div class="row" data-bind="ifnot: $data.IsPrimaryContact">
            <a class="pull-right" href="#" data-bind="click: $parent.removeContact" title="Delete">
                <span class="glyphicon glyphicon-remove"></span>
            </a>
        </div>
        <div class="row">
            <div class="col-md-4">
                <div class="form-group">
                    <label>Title</label>
                    <select class="form-control" id="contactType" name="contactType" data-bind="options: $parent.titleTypes, optionsCaption: '--select--', optionsText: 'Text', optionsValue: 'Value', value: Title, uniqueName: true"></select>
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label>Name</label>
                    <input class="form-control" type="text" data-bind="value: ContactName, uniqueName: true" maxlength="20" />
                </div>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label>Relation</label>
                    <select class="form-control" id="relationType" name="relationType" data-bind="options: $parent.relationTypes, optionsCaption: '--select--', optionsText: 'Text', optionsValue: 'Value', value: Type, uniqueName: true"></select>
                </div>
            </div>
        </div>
        <div data-bind="template: { name: 'address-template', data: ContactAddress }"></div>
        <div data-bind="if: $data.IsPrimaryContact"></div>
        <div class="row">
            <div class="checkbox">
                <label>
                    <input type="checkbox" data-bind="checked: $root.AddressVerified">Address Verified
                </label>
            </div>
        </div>   
        <div data-bind="template: { name: 'contact-template', data: ContactPhone }"></div>
    </fieldset>
</div>